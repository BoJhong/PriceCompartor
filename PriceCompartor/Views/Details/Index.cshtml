@model Product
@{
    ViewData["Title"] = "商品詳情";
    var category = Model.Categories;
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-controller="Category" asp-action="Index">分類</a></li>
        @if (category != null)
        {
            <li class="breadcrumb-item"><a asp-controller="Category" asp-action="Index" asp-route-id="@category.Id">@category.Name</a></li>
        }
        else
        {
            <li class="breadcrumb-item"><a asp-controller="Category" asp-action="Index" asp-route-id="0">Uncategorized</a></li>
        }
        <li class="breadcrumb-item active" aria-current="page">@Model.Name</li>
    </ol>
</nav>

<div class="row">
    <div class="col-md-4 d-flex justify-content-center">
        <img src="@Model.ImageUrl" class="img-fluid object-fit-cover rounded" style="max-height: 320px" />
    </div>
    <div class="col-md-8 h-auto">
        <h4>@Model.Name</h4>
        <p>價格: @Model.Price</p>
        <p>銷售量: >@Model.Sales</p>
        <p>平台: 
            <img src="@Model.PlatformImageSrc" class="object-fit-cover rounded" style="max-width: 30px" />
            @Model.Platforms?.Name
        </p>
        <div class="text-center mt-auto">
            <a href="@Model.Link" class="btn btn-primary">
                前往 @Model.Platforms?.Name 購買
            </a>
            <a class="btn btn-success" asp-controller="Cart" asp-action="Add" asp-route-id="@Model.Id">
                <i class="fa-solid fa-cart-shopping"></i>
                加入購物車
            </a>
            <a href="@Model.Link" class="btn btn-warning">
                <i class="fa-regular fa-star"></i>
                加入收藏
            </a>
        </div>
    </div>
</div>
<div class="container">
<vc:price-history product-id="@Model.Id" />
</div>
<hr />
<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">商品介紹</button>
        <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">商品評價</button>
        <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">相關類別</button>
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">@Html.Raw(Model.Description)</div>
    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">...</div>
    <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">...</div>
</div>
